# oh-my-zsh settings
export ZSH="$HOME/.oh-my-zsh"
plugins=(fzf fzf-tab gcloud vi-mode)
source $ZSH/oh-my-zsh.sh

export EDITOR='nvim'
export GIT_EDITOR='nvim'

export FZF_DEFAULT_OPTS="--tmux 90%"

export VI_MODE_SET_CURSOR=true

alias python=python3
alias lg=lazygit
alias lastpatch=latest_patch_version
alias sb="tmux capture-pane -pS -"
alias ta="tmux attach"

function latest_patch_version() {
    local minor_version="$1"
    git fetch --tags --quiet
    git tag --sort -version:refname --list "v${minor_version}.*" | head -n 1
}

eval "$(nodenv init - zsh)"

# PostgreSQL client
export PATH="$PATH:$HOMEBREW_PREFIX/opt/libpq/bin"

# Add Go binaries to PATH.
export GOPATH=$HOME/go
export PATH="$GOPATH/bin:$PATH"

# Install autocompletion for ast-grep.
eval "$(sg completions)"

eval "$(zoxide init zsh)"

eval "$(oh-my-posh init zsh --config $XDG_CONFIG_HOME/oh-my-posh/config.json)"

eval "$(${HOMEBREW_PREFIX}/bin/mise activate zsh)"

